python 集合 set 是一种无序且唯一的数据结构，用于存储不重复的元素。

重复的元素会自动被去重，元素没有固定顺序，无法通过索引访问。元素必须都是不可变类型的（如数字，字符串，元祖），但是 `set` 本身是可变的。

```python
# ------ 创建集合 ------

# 使用花括号（注意：空集合必须用 set()）
fruits = {"apple", "banana", "cherry"}

# 使用 set() 函数
empty_set = set()  # 空集合
numbers = set([1, 2, 3, 3])  # 从列表创建，自动去重为 {1, 2, 3}

# ------ 添加元素 ------

s = {1, 2}
s.add(3)        # 添加单个元素：{1, 2, 3}
s.update([4, 5])  # 添加多个元素：{1, 2, 3, 4, 5}

# ------ 删除元素 ------

s.remove(3)     # 删除元素 3，不存在则报错
s.discard(4)    # 删除元素 4，不存在不报错
s.pop()         # 随机删除并返回一个元素（因无序性，无法预测删除哪个）
s.clear()       # 清空集合

# ------ 判断元素是否存在 ------

if "apple" in fruits:
    print("存在")

# ------ 交集，并集，差集，对称差 ------

a = {1, 2, 3}
b = {3, 4, 5}

# 交集：同时存在于两个集合的元素
print(a & b)  # 或 a.intersection(b) → {3}

# 并集：合并两个集合的所有元素（去重）
print(a | b)  # 或 a.union(b) → {1, 2, 3, 4, 5}

# 差集：只存在于 a 中但不在 b 中的元素
print(a - b)  # 或 a.difference(b) → {1, 2}

# 对称差：不同时存在于两个集合的元素
print(a ^ b)  # 或 a.symmetric_difference(b) → {1, 2, 4, 5}

# ------ 子集，超集，不相交判断

a = {1, 2}
b = {1, 2, 3}

print(a <= b)  # a 是 b 的子集 → True
print(b >= a)  # b 是 a 的超集 → True
print(a.isdisjoint(b))  # 是否没有交集 → False

# ------ 集合推导式 ------

squares = {x**2 for x in range(3)}  # {0, 1, 4}

# ------ 不可变集合 ------

fs = frozenset([1, 2, 3])
d = {fs: "value"}  # 合法，因为 frozenset 不可变
```

**性能优势**

**成员检测：**`x in s` 的时间复杂度为 `O(1)` ，远快于列表的 `O(n)` 。

有自动 **去重** 过滤元素，适合数据清洗。

**注意事项**

- **不支持索引**：无法通过 `s[0]` 访问元素。
- **元素不可变**：不能包含列表、字典等可变类型。
- **无序性**：遍历时顺序不确定，如需有序集合，可使用 `list(set(...))` 转换。

